---
title: "【大守护者详解系列】第二期：8 分钟讲完大守护者跟随攻击"
description: "本期是“大守护者机制详解系列”的第二期，也是最后一期。讲解极为复杂的大守护者跟随攻击行为，我尽可能地用你们能够理解的方式讲解。在放出结论之前，需要对攻略里所用到的名词进行解释，如果不理解没关系，下文将会做出更加详细的说明。"
module: posts-knowledge
canonical: /p/1748
featuredImg: /p/1748/WardenExplration2-封面2.jpg
authorId: asriel
lastCreated: 2020-09-13T12:59:55+08:00
lastUpdated: 2020-09-13T14:31:02+08:00
tags: grand-warden
---

大家好，我是咕咕了几个月的艾斯利尔逐梦，一只又懒又可爱的小羊，专注于基础理论的研究，依旧硬核 + 干货满满！

本期是“大守护者机制详解系列”的第二期，也是最后一期。讲解极为复杂的**大守护者跟随攻击行为**，我尽可能地用你们能够理解的方式讲解。

<Pic src="/p/1748/WardenExplration2-封面2.jpg" width="1920" height="1080" alt="大守护者详解系列封面二" :lazyLoading="false" />

**注意：**

1. 本文内容较为硬核，建议配合视频食用：[点击前往 B 站观看视频](https://www.bilibili.com/video/BV1zV411m7qB/)。
2. 如果你还没有看过上一期，请移步：[【大守护者详解系列】第一期：8 分钟讲完大守护者大守护者基础性质](/p/1702)。

## 结论

在放出结论之前，需要对攻略里所用到的名词进行解释，如果不理解没关系，下文将会做出更加详细的说明。

1. 军队：包括兵种、英雄、攻城机器、法术召唤出的骷髅蝙蝠；
2. 跟随权重：反应军队在大守护者眼里的重要性，大小只与军队种类有关；
3. 削减权重：在军队距离大守护者超过 9 格时降低一定百分比的权重；
4. 实际权重：由“基础权重”和“削减权重”共同计算得出的“实际权重”；
5. 锁定时间：目标最后被锁定的时间，可记为距离战斗结束时间。

接着放出**实验结论**。

1. 大守护者“跟随攻击”的本质是根据周围友军的目标决定自己的目标。
2. 距离大守护者 13 格内的军队锁定目标时，该目标会附加此军队的“跟随权重”。
3. 若所有目标的“基础权重”之和 >= 2000 时，大守护者将“跟随攻击”。
4. 当军队距离大守护者 > 9 格（生命光环范围外）时“实际权重”降低 15%，> 11 格降低 20%（不叠加）。
5. 如果军队目前需要开墙且同时满足城墙与目标距离 >= 6 格（从城墙到目标数 5 个空格）和目标在大守护者射程外。跟随权重会转移到城墙上，否则依然附加在目标上。
6. 大守护者优先攻击“实际权重”最高的“非城墙目标”，如果没有此类目标，则攻击权重最高的“城墙”。
7. 若多个目标的权重相等时，大守护者会攻击“锁定时间”最早的目标，罕见情况下选择距离自己最近的目标。
8. 大守护者会在停火或攻击城墙时记忆 6 秒当前目标，此后将重新计算目标，目标的“跟随权重”和“锁定时间”将全部重置。

## Chapter 1 : 欺骗

在绝大多数玩家眼里，大守护者会主动保护身旁的兵种并一起行动，但大错特错！

大守护者并没有我们想象的那么无私，实际上他只是遵循**自己独特的算法**而已，我们被欺骗了太久太久。

<Pic src="/p/1748/WardenExplration2-欺骗.jpg" width="772" height="539" alt="" maxWidth="386px" />

如图所示，大守护者跟随电龙攻击金库，但是自身的光环并没有覆盖到它。所以所谓的跟随仅仅只是跟随攻击同一个目标，而不是想方设法用光环覆盖他们。对于大量的近战单位来说，这样的行为确实可以保护他们，对于远程单位来说就未必了。

## Chapter 2 : 初识跟随权重

大守护者的跟随攻击都是基于隐藏属性“**跟随权重**”（也叫牵引权重）进行的。“跟随权重”是每个军队的固有属性。当单位锁定一个目标的时候，该目标会附加他的跟随权重。显然目标的跟随权重越大，大守护者越有可能攻击它。

这个值可能会随着版本的更新而迭代，所以目前给出的数据适用于 2020 年 9 月的 coc 版本。

图片较大，建议放大后查看。(召唤物因为排版限制和权重较低被忽略)

<Pic src="/p/1748/WardenExplration2-科技树-scaled.jpg" width="2560" height="853" alt="科技树" maxWidth="100%" />

备注，攻城器携带援兵（未放出）并不会增加它的跟随权重，所以还是 100.

接下来，我们就可以推进跟随机制的讨论啦！

既然提到了跟随权重，那么就有一个问题：权重要到多大才能够吸引大守护者的注意呢？

实验设计：对一个目标下不同数量的步弓手，观察权重达到多少才能够吸引大守护者的攻击？

<Pic src="/p/1748/WardenExplration2-跟随权重需求实验.jpg" width="413" height="252" alt="跟随权重需求实验" />

经过反复的实验，需要 20 个步弓手，总权重为 2000。即当**总跟随权重 >= 2000**时，大守护者才可以跟随攻击。

下一个问题：必须单个目标的跟随权重到达 2000 了才会触发“跟随攻击”咩？

实验设计：让部队分散攻击多个建筑，虽然总基础权重 > 2000，但每个建筑的权重均低于 2000.

<Pic src="/p/1748/WardenExplration2-跟随权重分散实验.jpg" width="484" height="339" alt="跟随权重分散实验" />

此时的情况：左边 2 野蛮人 200，右边 3 巨人 1800，总权重达到 2000. 虽然没有一个目标达到 2000 的权重，但大守护者仍然攻击最右边跟随权重最大的火箭。

所以得出**总跟随权重达到 2000** 即可触发“跟随攻击”行为。

## Chapter 3 : 极限距离

如果军队距离大守护者太远，那么他是不会走（飞）大老远攻击的，这对于天咏开局来说至关重要。所以问题就是这个极限距离是多少？

实验设计：大守护者下固定位置攻击训练营，在距离大守护者可变的距离下 40 个步弓手，测量军队在多少距离内可以吸引大守护者。

根据多次的实验，这个**距离被确定是 13 格**，下图是能够触发跟随的极限距离。（箭头是生命光环的距离）

<Pic src="/p/1748/WardenExplration2-判定半径.jpg" width="715" height="457" alt="判定半径" />

## Chapter 4 : 相等权重

成功引起大守护者的注意后，显而易见的是他会优先攻击“跟随权重”最大的目标。若出现了多个目标的权重相等，则如何决定呢？

实验前必须排除可能的削减权重：距离削减，开墙削减。在之后的实验里讲解这两类权重削减的性质。

<Pic src="/p/1748/WardenExplration2-相等权重实验.jpg" width="481" height="331" alt="相等权重实验" />

大守护者似乎并不遵守就近原则，会舍近求远攻击距离更远的储金罐。在视频里两只龙的顺序是右边的先下，左边的后下。大守护者选择的是最先被锁定的“右圣水瓶”，和距离似乎并没有关系。

绝大多数的情况下锁定时间不可能相同，在罕见的情况下，尤其使用了远程单位的时候，大守护者可能会无视锁定时间的优先级直接攻击最近目标。

当多个目标的跟随权重相等时，优先攻击**最后锁定时间最早**的目标。罕见情况下才会攻击最近目标。

## Chapter 5 : 距离削减权重

然而有时会出现一种反常的情况：计算跟随权重时，甲目标比乙目标低，但大守护者攻击的却是甲。

所以是什么导致了权重的不对等？

首先怀疑距离，毕竟军队必须在大守护者 13 格内才能吸引到他。

实验设计，放置两个羊圈 AB，A 处固定下 50 个步弓手，B 处位置可变下可变数量的步弓手，之后在 A 处下大守护者。观察大守护者的攻击目标。

<Pic src="/p/1748/WardenExplration2-距离削减实验.jpg" width="692" height="476" alt="距离削减实验" />

经过多次的实验，我们发现**军队距离大守护者 9 格以内权重为 100%，10 - 11 格则降低至85%，12 - 13 格则降低至 80%**。距离削减权重真正存在。

另外大守护者并不会实际权重低于 2000 而不再跟随攻击，只要满足基础权重之和 >= 2000 的前提。

## Chapter 6: 记忆时间

有时大守护者在移动或者开墙一段时间后会突然转移目标。该现象也存在于其他军队，但大守护者略特殊。

<Pic src="/p/1748/WardenExplration2-移动记忆时间.jpg" width="660" height="382" alt="移动记忆时间" />

如图所示，大守护者跟随隐秘哥布林 6 秒之后转身去攻击冰人锁定的火箭。所以经过了这段记忆时间之后，部队的距离、跟随权重、锁定时间全部重置。超级哥布林被大守护者无情抛弃。

<Pic src="/p/1748/WardenExplration2-开墙记忆时间.jpg" width="575" height="379" alt="开墙记忆时间" />

一开始先下皮卡超人和大守护者，此时大守护者开墙。然后在前面放一个法师，6 秒后大守护者会转而攻击圣水瓶。虽然法师的权重远比皮卡超人低，但对于大守护者来说跟随法师不需要开墙，而跟随皮卡超人就需要（开墙），所以做出该决定。

在这里多次提到了 6 秒，这 6 秒便是军队的共同属性“记忆时间”。

“**记忆时间**”是从停火或攻击城墙后开始计时的，经过该时间后会重算目标，有可能计算后为同一目标。

## Chapter 7 : 开墙判定

除了专职的城墙克星，军队们都不喜欢浪费宝贵的时间开墙，大守护者也不例外。

然而实际战斗中总会出现大守护者去开墙而不是去冲出去攻击建筑的情况，明明可以跳墙或者飞过去！

因为大守护者的行为都是基于跟随权重计算的，所以一定是哪里出现了问题！

提出了一些假设：跟随权重不能附加在墙上？大守护者优先跟随无需开墙的部队进攻？开墙行为降低军队权重？

<Pic src="/p/1748/WardenExplration2-大守护者跟随皮卡直接攻击目标.jpg" width="808" height="472" alt="大守护者跟随皮卡直接攻击目标" />

现在只有 1 个皮卡和 4 个矿工，暗黑训练营权重 2500，部落城堡 2400。大守护者选择直接攻击暗黑训练营。尽管否决了大守护者优先跟随无需开墙的部队进攻的假设，但大守护者就是在攻击城墙背后的目标！

**也许“无需开墙”有另外的含义？**

<Pic src="/p/1748/WardenExplration2-大守护者跟随巨人开墙.jpg" width="595" height="371" alt="大守护者跟随巨人开墙" />

巨人的目标在很远的地方，而且他们就在开墙，大守护者就跟随他们一起开墙！如果跟随权重不能附加在墙上，则大守护者完全可以选择冲出去攻击远方的防御建筑。这显然是各位不希望看到“抛弃队友自己跑路”的现象！

接下来我们就要寻找**大守护者开墙的条件**了。也就是解答军队开墙时，大守护者什么时候会开墙，什么时候不会开墙。

实验设计：在固定位置放置羊圈使得近战单位攻击时需要开墙，目标被放置在城墙外可变位置。然后在可变位置下大守护者，观察他的行为。

<Pic src="/p/1748/WardenExplration2-不开墙的情况.jpg" width="956" height="339" alt="不开墙的情况" />

左图：城墙距离目标太近，大守护者会尝试前进一段距离攻击。

右图：如果目标在大守护者射程内，则会直接攻击目标。

在大量测试中，我发现大守护者 100% 开墙需要同时满足两个条件：军队攻击的**城墙距离目标 >= 6 格**（城墙到目标数 5 个空格），**目标在大守护者的射程外**。如果只满足其中一个条件，则开墙的可能性会降低，有随机性。

## Chapter 8 : 城墙权重

新的问题出现了，既然大守护者的跟随机制都是基于权重进行的，那么权重究竟加在哪里了呢？

之前的实验都是基于一个军队的，接下来我们就要考虑多个军队了。

不妨提出假设：**当军队满足需要大守护者开墙的条件时，权重附加在城墙上，否则一律附加在目标上。**

接下来开始验证或者推翻假设。

<Pic src="/p/1748/WardenExplration2-开墙权重验证.jpg" width="620" height="460" alt="开墙权重验证" />

首先我们让皮卡超人攻击城墙，此时下大守护者，此时他会开墙。然后对另一个目标下法师，已知法师权重远低于皮卡超人。

现象是大守护者在攻击 4 次城墙后转身攻击储金罐。

由此得出此时**皮卡超人的权重是附加在城墙上**的，而不是圣水瓶上。所以大守护者才会选择攻击实际权重更低的储金罐，假设得证!

<Pic src="/p/1748/WardenExplration2-开墙目标选择.jpg" width="844" height="465" alt="开墙目标选择" />

**开墙也是根据城墙附加的跟随权重大小**来的。在左边 2 冰人右边 3 冰人锁定同一个目标的情况下，大守护者攻击右边的城墙。所以可以推测右边城墙的跟随权重更大，换言之大守护者认为右边的军队能够更快破开城墙！

## Chapter 9 : 开墙削减权重？

军队的开墙行为是否会降低他们的权重？

实验设计：在左边下 50 个野蛮人无需开墙；在右边下可变数量的野蛮人，需要开墙。观察大守护者的行踪。

根据多次实验右边只需要 50 个野蛮人 + 1 哥布林才可以让大守护者 100% 地攻击右边，否则有可能左边。

<Pic src="/p/1748/WardenExplration2-野蛮人开墙削减实验.jpg" width="576" height="333" alt="野蛮人开墙削减实验" />

或许这个值并不存在或者非常的低？可能更大的基础权重和双层城墙就更能说明问题？

我们决定用 4 皮卡超人（权重 10 000）和若干野蛮人开双层城墙做实验。

<Pic src="/p/1748/WardenExplration2-皮卡开墙削减实验.jpg" width="659" height="434" alt="皮卡开墙削减实验" />

但是令人失望的是，即使两边都只下等量的皮卡超人，释放顺序的不同都会导致攻击方向的不同。

所以**城墙削减权重不存在**！

## Chapter 10 : 结语与致谢

台上一分钟，台下十年功。攻略和视频背后是几十天不懈的努力。

非常感谢 B 站用户“学神传说·帝一鸣”和我一起研究了这个课题。

受限于个人能力，很多可能都还没有做。但和以前相比，真的做了好多。

有缘，再见！