---
title: "【工人小屋机制详解】建建建建建建建建建筑工"
description: "暑假了，是攻克敲难的课题的时间！当建筑工拿起了自己的锤子登上了战场，他们再也不是临阵脱逃的鼠辈了，工人阶级站起来了！本期详细讲解建筑工人小屋的作战机制。在研究笔记里，它被称为“连弩小屋组件”，原因是 14 本的标志性建筑并不是独立存在的，需要附加在工人小屋上。"
module: posts-knowledge
canonical: /p/2179
featuredImg: /p/2179/视频封面.jpg
authorId: asriel
lastCreated: 2021-07-24T14:21:46+08:00
lastUpdated: 2021-07-24T14:21:46+08:00
tags: builders-hut
---

暑假了，是攻克敲难课题的时间！

当建筑工拿起了自己的锤子登上战场，他们再也不是临阵脱逃的鼠辈了，工人阶级站起来了！

本期详细讲解建筑工人小屋的作战机制。

视频见此：https://www.bilibili.com/video/BV1WM4y1T7NN/

<Pic src="/p/2179/视频封面.jpg" alt="工人小屋机制详解 封面" width="1913" height="1080" />

在 [研究笔记](/p/268) 里，它被称为“连弩小屋组件”，原因是 14 本的标志性建筑并不是独立存在的，需要附加在工人小屋上。

<Pic src="/p/2179/研究笔记.jpg" alt="研究笔记中的连弩小屋组件介绍" width="1382" height="487" />

工人小屋需要使用宝石购买，到了 14 本谁还没有 5 农呢？

从面板上看，它就相当于弱化版的对空连弩，至少从生命值、伤害、射速、射程上看都是如此。

但要注意的是维修能力！最终部落冲突还是出现“**边修边打**”这一老传统了，维修机制这是本期讲解的核心。

特殊地，**升级状态中**的建筑工人小屋**不属于防御建筑**！

## 第一章：工人基本信息

维修需要建筑工，我们需要建筑工的信息。

<Pic src="/p/2179/工人面板数据.jpg" alt="研究笔记中的建筑工人介绍" width="1788" height="773" />

维修距离和攻击距离一样是 7 格，工人会跑到需要维修的建筑挥舞锤子去维修。

你是否发现了面板上的某些端倪吧？

建筑工拥有全游戏最高的十万血的生命值，看来我们是低估他们了。自愿 007 却仍能健在，体质非常人能比。难怪只有宝石才能将他们买下来哩。

建筑工看起来实在是**太“逊”**了，以至于都**吸引不了部队的注意力**。但更多的原因是部落之间签下的战争协议——第 114 条“开战前需提前疏散非战斗人员”和第 514 条“所有战斗人员禁止伤害平民”。

**常规方法是难以伤害到他们的**，但并不免疫法术的效果。在有限的法术数量内，我们是不可能将其消灭的。

我们联系上了哈莫曼中尉，在他几乎无限的军备的下，可一试。经计算，需要 181 瓶闪电法术可以拿下建筑工。可是我们这样是要上军事法庭的！

<Pic src="/p/2179/疯狂电击.jpg" alt="用闪电疯狂劈建筑工人" width="586" height="425" />

很明显，羊羊想多了，建筑工人似乎根本不怕雷电，难道我们没有办法去制裁这个无敌的家伙？

根据部落冲突维基的介绍，工人可以被法术效果影响：

**毒药法术**：降低移动和维修速度；

**冰冻法术和雷电法术**：暂停并重置建筑工的维修；

**隐形法术**：对目标建筑使用，让工人暂时无法维修该建筑；

**狂暴法术**：仅超级武神亡语，提高工人维修量和移动速度；

其实面对工人金刚不坏之身，我们只需要拿下小屋就可以了。这样建筑工就得撤退去打电动，阿嫲可不会再打扰到他了。

工人**无法维修城墙**，重点应该放在建筑物为好！

<Pic src="/p/2179/重点建筑物.jpg" alt="工人无法维修城墙" width="393" height="313" />

在联机模式中，如果工人在开战前还在 007，则需要一段时间从升级中的建筑跑到小屋周围执勤，工人有可能还没到建筑，小屋就被摧毁了，这一次英勇的“法式反击”也就变为了真正的逃跑。

<Pic src="/p/2179/007的建筑工.jpg" alt="007的建筑工逃跑" width="479" height="357" />

## 第二章：工人维修机制

在 14 本推出后，工人取代了天使成为了唯一可以奶建筑的单位。我们再也不能靠这个特性让超弓间接拿下大本营了。

<Pic src="/p/2179/特性.jpg" alt="天使奶蛮王图示" width="724" height="550" />

建筑工人的维修范围为 7 格，只需要蹭到建筑物占地面积就可以了；工人闲置时按照蜜汁走位进行巡逻。因此吉尔哈特为我们画出了维修责任和巡逻路线图。

<Pic src="/p/2179/建筑工人维修范围图示.jpg" alt="建筑工人维修范围图示" width="1920" height="1080" />

众所周知，多天使治疗一个单位会衰减，那么多工人维修一个建筑是否也会衰减？

实验设计：快速雷击两个西瓜投手让其致残，当工人修好第一个西瓜投手后，计算修理第二个西瓜投手所需的时间或次数，然后改变工人数量继续实验。

从第一个工人静止开始计时，到建筑血条消失停止计时！

<Pic src="/p/2179/实验1.jpg" alt="实验1" width="480" height="334" />

<Table maxWidth="550px">

| 工人数量 | 维修量 | 维修时间 | 每秒维修 | 维修效率 |
|   --:   |   --:  |   --:   |   --:   |    --:   |
|    1    |  3 360 |  52.850 |   63.58 |  105.96% |
|    2    |  3 360 |  26.483 |  126.87 |  211.45% |
|    3    |  3 920 |  21.516 |  182.19 |  303.65% |
|    4    |  3 920 |  15.883 |  246.80 |  411.34% |
|    5    |  3 920 |  13.783 |  284.41 |  474.01% |

</Table>

我们发现，只有工人数量到 5 的时候，治疗才会出现明显衰减。

可是，为什么实际每秒维修比预期还要高呢？

UP 数了一下 1 个工人锤建筑的次数，75 次，75 * 45 = 3 375，刚好可以修完，每次维修就是 45.

这样的蹊跷值得我们多次反复实验！我想工人面板上是这么一回事，但实际上维修速度大约是 0.7 秒每次！而不是 0.75 秒。我认为建筑工的问题就在于**实际维修速度要比预期维修速度快很多**。

实验设计：让 2 个弓箭手射击一座天鹰火炮，在天鹰生命值第一次增加后开始计时，到最后一次生命值增加时结束。数出近 3 分钟内工人敲击的次数。

<Table maxWidth="550px">

| 维修时间（秒） | 维修次数 | 平均维修时间 |
|      ---      |   ---   |     ---     |
|    164.416    |   232   |    0.709s   |
|    174.400    |   246   |    0.709s   |
|    173.700    |   245   |    0.709s   |

</Table>

将三次平均维修时间做一次算术平均值，得出实际维修时间为 0.709 秒。

实验结论：工人实际维修速度为 0.709 秒/次，要比面板上的 0.75 秒更快！实际每秒维修是面板数据上的 105.78%.

回到维修衰减实验，我们可以尝试做一个计算：

<Table maxWidth="550px">

| 工人数量 | 总维修效率 | 单工人维修效率 |  维修比率 |
|   --:   |    --:    |      --:      |    --:   |
|    1    |  105.96%  |     1.0596    | 100.170% |
|    2    |  211.45%  |     1.0549    |  99.726% |
|    3    |  303.65%  |     0.9220    |  87.162% |
|    4    |  411.34%  |     1.0769    | 101.806% |
|    5    |  474.01%  |     0.6267    |  59.246% |

</Table>

为什么第四个工人的维修效率要比第三个还要高，这似乎不太符合常理呀？我们最好重做这次实验。

龙可以对大本营造成 13 次伤害，总伤害量 5687.5.

<Pic src="/p/2179/龙吹本.jpg" alt="龙吹本" width="473" height="355" />

<Table maxWidth="550px">

| 工人数量 |  维修量 | 维修时间 | 每秒维修 | 维修效率 |
|   --:   |    --:  |   --:   |   --:   |    --:   |
|    1    | 5 687.5 |  90.216 |   63.04 |  105.07% |
|    2    | 5 687.5 |  44.866 |  126.76 |  211.27% |
|    3    | 5 687.5 |  30.866 |  184.26 |  307.11% |
|    4    | 5 687.5 |  23.750 |  239.47 |  399.12% |
|    5    | 5 687.5 |  19.983 |  284.61 |  474.36% |

</Table>

重新计算维修比率

<Table maxWidth="550px">

| 工人数量 | 总维修效率 | 单工人维修效率 |  维修比率 |
|   --:   |    --:    |      --:      |    --:    |
|    1    |  105.07%  |     1.0507    |    99.3%  |
|    2    |  211.27%  |     1.0620    |   100.4%  |
|    3    |  307.11%  |     0.9584    |    90.6%  |
|    4    |  399.12%  |     0.9201    |    87.0%  |
|    5    |  474.36%  |     0.7524    |    71.1%  |

</Table>

如果精确到 10%，则为 100%、100%、90%、90%、70%.

存在 3% 的误差是因为我们无法保证所有工人在同一个时间开始维修一个建筑物！

可得出多个建筑工人维修建筑时治疗衰减和多天使的治疗衰减比例相同。

在实战中，我们发现有 5 工人护本的设计，如果等级没有升满，那么如何设计才能将其维修效率最大化呢？

实验设计：天女对大本营，工人在大本营背后，等级分布为 22244，修改工人小屋的位置，使天女攻击大本营的次数最多，闰土（飞盾战神）也会再做一次实验。

<Pic src="/p/2179/实验4-副本.jpg" alt="实验4-副本" width="1920" height="1080" maxWidth="100%" />

实验结论：在覆盖到大本营的情况下，工人小屋的分布对大本营维修效率的影响微乎其微。

当所有小屋全是满级的时候，天女是 20 次，而天盾则增加到了 23 次。

所以我们要按照**数量大于质量，质量大于位置**的原则放置工人小屋以最大化对建筑物的维修效果。

在联机模式中，当超哥重创了仓库但还未完全摧毁时，如果仍由工人维修，则哥布林每次攻击只能拿到更少的资源，总量不变，故无法通过这个来刷资源。

<Pic src="/p/2179/哥布林.jpg" alt="哥布林反复打仓库，工人维修后，总资源量不会变" width="589" height="378" />

汇报一个 bug，罕见情况下，工人可能会卡住，在小屋被摧毁后甚至都无法逃跑。可是第二次进攻同一个人却并没有复现这个 bug. 由于难以复现，也许这并不是一个问题。

<Pic src="/p/2179/卡住bug.jpg" alt="建筑工人卡住的 bug" width="479" height="332" />

## 第三章  工人维修优先级

♫建筑工，建筑工，一位辛劳的建筑工。♫

关于维修的优先级存在以下假设：

<Pic src="/p/2179/因素图标.jpg" alt="距离最近、当前生命值最低、当前生命值的百分比最低、自己的小屋、损失生命值最多、维修偏好" width="342" height="401" />

因为部分因素重叠，导致很难得出正确的结论，本次通过系统实验以解答这个问题。

两台连弩受损情况相同，但距离不同，工人选择修理最近的一台连弩。

<Pic src="/p/2179/证明实验1.jpg" alt="证明实验1" width="542" height="390" />

距离是根据工人位置计算的，而不是小屋，所以也有可能维修右边那台连弩。

使用地震轰击建筑群，百分比相同，但既不维修高生命损失的建筑（小屋 > 箭塔）也不维修当前生命值最低的建筑（法师 > 箭塔），同时排除这两个因素。

<Pic src="/p/2179/证明实验2.jpg" alt="证明实验2" width="633" height="491" />

很明显，百分比更低但并不去维修，排除百分比这个因素。

<Pic src="/p/2179/证明实验3.jpg" alt="证明实验3" width="579" height="409" />

如果有维修偏好，那么修好圣水瓶后下一个也应该修圣水瓶，但都去修加农炮了，工人维修没有偏好。

<Pic src="/p/2179/证明实验4.jpg" alt="证明实验4" width="606" height="461" />

工人维修自己的小屋，但又和距离因素重合。

被冰冻后，工人距离小屋虽远却仍去维修小屋，他认为“不扫小屋何以扫天下”。

<Pic src="/p/2179/证明实验5.jpg" alt="证明实验5" width="642" height="491" />

可惜只是自己的小屋有最高优先级，他不会优先维修其他人的小屋。

整理一下，**工人优先维修自己的小屋，其次是距离工人最近的受伤建筑；被打断、维修完成或建筑物被摧毁后重新计算目标。**

在闪震流派中，可以尝试地震小屋以避免其维修目标建筑，然后动作快。

<Pic src="/p/2179/地震小屋.jpg" alt="用地震震建筑工人小屋" width="413" height="282" />

## 教训

本期详细讲解了建筑工人小屋的基本信息、维修机制和维修 AI，共 9 条结论。

1. 小屋本身是一座弱化版的对空连弩，建筑工可以维修小屋 7 格内的受伤建筑。
2. 小屋在开战 6 秒后激活，属于防御建筑，但升级中的小屋不属于防御建筑。
3. 工人是完全无敌的，不会成为部队的目标，但拿下小屋后工人会逃跑。
4. 工人会受到法术效果的影响，包括毒药、狂暴、雷电、冰冻、隐形（对建筑）。
5. 工人闲置时，按照蜜汁走位进行巡逻，距离计算从工人脚下开始，而非小屋。
6. 工人的实际每秒维修是面板上的 78%，因为维修速度是 0.709 秒/次。
7. 多工人维修衰减和天使治疗衰减比例相同，为 100%、100%、90%、90%、70%
8. 只要工人能维修目标建筑，小屋位置对维修效果的影响轻微，尤其是多小屋。
9. 工人的维修 AI：自己的小屋优先于最近受伤建筑，被打断、维修完成、建筑摧毁后重新计算目标。

感谢各位同学对本课题的支持。

<Pic src="/p/2179/总结3.jpg" alt="致谢名单" width="1913" height="1080" />

如果当初阿伟选择了好好用功读书，这也不过是我的一厢情愿罢了。